{% extends 'base.html' %}

{% block og_data %}
  {% include "includes/og/og_lawmaker.html" %}
{% endblock %}

{% block content %}
  {% include "components/page-headers/legislator-page-header.html" %}
  {% if object.memberships.first != null %}
  <header>
    <h3 class="section-header">Committees</h3>
  </header>
  <div class="committee-assignments">
    <ul class="sans">
      {% for membership in object.memberships.all %}
      <li>
        {{ membership.role }}, <a href="{{ membership.committee.get_absolute_url }}">{{ membership.committee }}</a>
      </li>
      {% endfor %}
    </ul>
  </div>
  {% endif %}

  <header>
    <h3 class="section-header">Filed legislation</h3>
  </header>
  <div class="bill-table">
  {% if object.sponsorships.first != null %}
    <table>
      <thead>
        <tr>
          <th>Bill</th>
          <th>Caption</th>
          <th>Date of last action</th>
        </tr>
      </thead>
      <tbody>
        {% for sponsorship in object.sponsorships.all %}
        <tr>
          <td data-title="Bill"><a href="{{ sponsorship.bill.get_absolute_url }}">{{ sponsorship.bill.name }}</a></td>
          <td data-title="Caption">{{ sponsorship.bill.description }}</td>
          <td data-title="Date of last action">{{ sponsorship.bill.last_action_date|date:"SHORT_DATE_FORMAT" }}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
    {% else %}
    <p>This legislator hasn't filed any bills yet.</p>
    {% endif %}
  </div>

{% endblock %}
