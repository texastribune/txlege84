{% extends 'base.html' %}

{% block og_data %}
  {% include "includes/og/og_hotlist_landing.html" %}
{% endblock %}

{% block mobileheader %}
  {% include "components/page-headers/hot-list-landing-header.html" %}
{% endblock %}

{% block desktopheader %}
  {% include "components/page-headers/hot-list-landing-header.html" %}
{% endblock %}

  <div class="body-main">
    {% include "modules/topic-page-header.html" with topic_list=topic_list %}
  </div>
</section>

{% block content %}

{% for topic in object_list %}

  <div class="issue-list-block">
    <header class="hot-list-nav">
      <h2><a href="{{ topic.get_absolute_url }}"><span class="hot-list-name">{{ topic.name }}</span></a></h2>
    </header>
    {% with curators=topic.curators.all %}
    {% if curators %}
    <header class="curated-by">
      {% for curator in curators %}
      <div class="headshot">
        <img src="{{ curator.staff.profile_photo }}">
      </div>
      {% endfor %}
      <h4 class="curated">Curated by {% if curators|length == 1 %}{{ curators.first.first_name }} {{ curators.first.last_name }}{% elif curators|length > 2 %}{% for curator in curators %}{% if not forloop.first and not forloop.last %}, {% endif %}{% if forloop.last %} and {% endif %}{{ curator.first_name }} {{ curator.last_name }}{% endfor %}{% else %}{% for curator in curators %}{{ curator.first_name }} {{ curator.last_name }}{% if not forloop.last %} and {% endif %}{% endfor %}{% endif %}</h4>
    </header>
    {% endif %}
    {% endwith %}

    <div class="issue-list">
      <ul>
      {% for issue in topic.issues.all.published %}
        <li><a href="{{ issue.get_absolute_url }}">{{ issue.name }}</a></li>
      {% endfor %}
      </ul>
    </div>
  </div>
{% endfor %}

{% endblock %}
